---
title: "AskFileMessage"
---

Ask the user to upload a file before continuing.
If the user does not answer in time (see timeout), a TimeoutError will be raised or None will be returned depending on raise_on_timeout.
If a project ID is configured, the messages will be uploaded to the cloud storage.

### Attributes

<ParamField path="content" type="str">
  Text displayed above the upload button.
</ParamField>
<ParamField path="accept" type="Union[List[str], Dict[str, List[str]]]">
  List of mime type to accept like `["text/csv", "application/pdf"]` or a dict like `{"text/plain": [".txt", ".py"]}`.
  More infos here https://react-dropzone.org/#!/Accepting%20specific%20file%20types.
</ParamField>
<ParamField path="max_size_mb" type="int" optional>
  Maximum file size in MB. Defaults to 2. Max 100.
</ParamField>
<ParamField path="timeout" type="int" optional>
  The number of seconds to wait for an answer before raising a TimeoutError.
</ParamField>
<ParamField path="raise_on_timeout" type="bool" optional>
  Whether to raise a socketio TimeoutError if the user does not answer in time.
</ParamField>

### Returns

<ResponseField name="response" type="AskFileResponse" required>
  The file uploaded by the user.
</ResponseField>

### Usage

```python Code Example
import chainlit as cl


@cl.on_chat_start
def start():
    file = None

    # Wait for the user to upload a file
    while file == None:
        file = cl.AskFileMessage(
            content="Please upload a text file to begin!", accept=["text/plain"]
        ).send()
    # Decode the file
    text = file.content.decode("utf-8")

    # Let the user know that the system is ready
    cl.Message(
        content=f"`{file.name}` uploaded, it contains {len(text)} characters!"
    ).send()
```

You can also pass a dict to the `accept` parameter to precise the file extension for each mime type:

```python Code Example
import chainlit as cl

file = cl.AskFileMessage(
        content="Please upload a python file to begin!", accept={"text/plain": [".py"]}
      ).send()
```
